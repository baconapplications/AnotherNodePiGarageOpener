<md-card class="garage-button-wrap">
    <button md-raised-button color="primary" class="garage-button" (click)="doorClick()">{{buttonText}}</button>
</md-card>
<md-card>
    <md-card-title>History</md-card-title>
    <md-card-content *ngIf="historyLoaded && history.length > 0">
        <md-list>
            <ng-template ngFor let-e [ngForOf]="history">
                <md-list-item>
                    <md-icon md-list-icon>{{(e.status == "0" ? "lock_outline" : "lock_open")}}</md-icon>
                    <h4 md-line>{{(e.status == "0" ? "Closed" : "Opened")}}</h4>
                    <p md-line>{{e.timestamp | date:'M/d/y h:m a'}}</p>
                </md-list-item>
                <md-divider></md-divider>
            </ng-template>            
        </md-list>
    </md-card-content>
    <md-card-actions *ngIf="historyLoaded && history.length > 0 && totalPages > 1">
        <div class="pages"><span class="mat-button" style="cursor:default;">Page {{(page + 1)}} of {{totalPages}}</span></div>
        <button md-button style="position:absolute;left:10px;" *ngIf="page > 0" (click)="prevPage()">Prev Page</button>
        <button md-button style="position:absolute;right:10px;" *ngIf="(page + 1) < totalPages" (click)="nextPage()">Next Page</button>
    </md-card-actions>
    <p *ngIf="historyLoaded && history.length == 0">No results found</p>
    <md-card-content *ngIf="!historyLoaded">
        <button md-raised-button color="accent" (click)="loadHistory()" [disabled]="loadingHistory">Load History</button>
    </md-card-content>
    <md-card-footer [hidden]="!loadingHistory">
        <md-progress-bar mode="indeterminate"></md-progress-bar>
    </md-card-footer>
</md-card>